<div class="component-information">
    <h2>{{header}}</h2>
    <p>{{subHeader}}</p>
    <div *ngIf="dependencies" class="table-responsive">
        <!-- Toolbar -->
    <div *ngIf="!isCompanion" class="stack-components-toolbar toolbar-pf table-view-pf-toolbar">
        <div class="col-sm-12">
            <form class="row toolbar-pf-actions">
            <div class="form-group toolbar-pf-filter">
                <label class="sr-only" for="filter">Name</label>
                <div class="input-group">
                <div (click)="handleDropDownClick(fieldContainer)" #fieldContainer class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" id="filter" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{currentFilter}} <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                    <li (click)="handleFilterFieldClick(fieldContainer, filter, $event)" *ngFor="let filter of filters">
                        <a href="#">{{filter.name}}</a>
                    </li>
                    </ul>
                </div>
                </div>
            </div>
            </form>
        </div>
        </div>
        <!-- Table HTML -->
        <table class="table table-striped table-bordered table-hover children-break-word" id="dependenciesTable">
        <thead>
            <tr>
            <th [ngClass]="{'small-width': header.class === 'small', 'medium-width': header.class === 'medium', 'large-width': header.class === 'large'}" (click)="handleTableOrderClick(header)" *ngFor="let header of headers">
                {{header.name}}
                <span *ngIf="header.isSortable" class="fa {{header.sortDirectionClass || sortDirectionClass}}"></span>
            </th>
            </tr>
        </thead>
        <tbody (hover)="handleHoverState($event)">
            <tr [ngClass]="{'parent-class': dependency.isParent, 'child-class': dependency.isChild}" *ngFor="let dependency of (dependenciesList | filter: fieldName)">
                <td>
                    <span>
                        <i [ngClass]="{'fa': true, 'fa-reply relation-icon': dependency.isChild, 'fa-database': dependency.isParent || isCompanion === true, 'parent-icon': dependency.isParent, 'companion': isCompanion === true}" aria-hidden="true" *ngIf="dependency.isChild || dependency.isParent || isCompanion === true"></i>
                    </span>
                    <span>
                        <i [ngClass]="{'fa': true, 'fa-database child-icon': dependency.isChild, 'fa-info-circle': dependency.isUsageOutlier}" aria-hidden="true" *ngIf="dependency.isChild || (!dependency.isChild && dependency.isUsageOutlier)"></i>
                    </span>
                    {{dependency.name}}
                </td>
                <td class="text-center">{{!dependency.isChild && !isCompanion ? dependency.current_version : 'NA'}}</td>
                <td class="text-center">{{dependency.latest_version}}</td>
                <td class="text-center">
                    <i [ngClass]="{'fa': true, 'insecure fa-ban': dependency.security_issue === true, 'secure fa-check-circle-o': dependency.security_issue === false}" aria-hidden="true"></i>
                </td>
                <td ellipsis>{{dependency.license}}</td>
                <td class="text-center">
                    <sentiment *ngIf="dependency.sentiment_score" [score]="dependency.sentiment_score">{{dependency.sentiment_score}}</sentiment>
                </td>
                <td class="text-center">{{dependency.osio_user_count}}</td>
                <td class="text-center">{{dependency.github_user_count}}</td>
                <td></td>
                <td></td>
                <td class="action text-center">{{dependency.action}}</td>
            </tr>
        </tbody>
        </table>
    </div>
    <div *ngIf="!dependencies">No data to show</div>
</div>